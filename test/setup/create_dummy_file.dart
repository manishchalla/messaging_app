// test/setup/create_dummy_file.dart
// Run this script to create a test dummy image if needed

import 'dart:io';

void main() {
  // Create the test assets directory if it doesn't exist
  final directory = Directory('test/assets');
  if (!directory.existsSync()) {
    directory.createSync(recursive: true);
  }

  // Create a simple file with minimal content if it doesn't exist
  final filePath = 'test/assets/dummy_image.jpg';
  final file = File(filePath);

  if (!file.existsSync()) {
    // Create a minimal dummy JPG file (this will create an invalid but present file)
    file.writeAsBytesSync([
      0xFF, 0xD8, 0xFF, 0xE0, 0x00, 0x10, 0x4A, 0x46, 0x49, 0x46, 0x00, 0x01,
      0x01, 0x01, 0x00, 0x48, 0x00, 0x48, 0x00, 0x00, 0xFF, 0xDB, 0x00, 0x43,
      0x00, 0xFF, 0xC0, 0x00, 0x11, 0x08, 0x00, 0x01, 0x00, 0x01, 0x03, 0x01,
      0x22, 0x00, 0x02, 0x11, 0x01, 0x03, 0x11, 0x01, 0xFF, 0xC4, 0x00, 0x14,
      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xFF, 0xC4, 0x00, 0x14, 0x10, 0x01,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0xFF, 0xDA, 0x00, 0x0C, 0x03, 0x01, 0x00, 0x02,
      0x11, 0x03, 0x11, 0x00, 0x3F, 0x00, 0xA0, 0x00, 0x0F, 0xFF, 0xD9
    ]);

    print('Created dummy image file at: $filePath');
  } else {
    print('Dummy image file already exists at: $filePath');
  }
}